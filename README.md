# 半オートSTG『指示と本能』

「指示と本能」は、プレイヤーが直接操作するのではなくパートナーAIに指示を与え、AIが行動を判断して戦う半オート縦スクロールシューティングです。本リポジトリでは、AI行動仕様書を元にした簡易プレイアブルプロトタイプを提供します。

## 動作環境

- Python 3.10 以上
- [pygame 2.5](https://www.pygame.org/) 以降

仮想環境の利用を推奨します。

```bash
python -m venv .venv
source .venv/bin/activate  # Windows の場合は .venv\\Scripts\\activate
pip install -r requirements.txt
```

## 起動方法

```bash
python -m ai_shooting.game
```

## 操作一覧

| キー | 効果 |
| --- | --- |
| `Q` | 指示をバランス重視に戻す |
| `W` | 「おもいっきり」突撃指示（攻撃バイアス大） |
| `E` | 防御優先（回避／距離維持バイアス） |
| `R` | 集中射撃（通常／強攻撃バイアス） |
| `T` | 必殺優先（スペシャル発動バイアス） |
| `1` | AI性格：Aggressive |
| `2` | AI性格：Prudent |
| `3` | AI性格：Skittish |
| `ESC` | ゲーム終了 |

AIは200msごとにセンサー情報を評価し、指示バイアス・性格補正・状況バイアスを組み合わせて行動を決定します。行動候補は以下の7種です。

- 通常射撃
- 強攻撃（エネルギー消費・高火力）
- 接近（ボスとの距離を詰める）
- 距離維持（安全距離を保つ）
- 回避（弾源から離れる方向へ移動）
- ステップ（短距離無敵ダッシュ、クールタイムあり）
- 必殺技（スペシャルゲージ最大時に広範囲攻撃）

## 実装メモ

- `ai_shooting.ai` にAI思考ルーチンを実装。行動バイアスの合成、性格補正、反応遅延など仕様書の要素を反映しています。
- `ai_shooting.entities` はプレイヤー・敵・弾の更新処理とリソース管理を担当します。
- `ai_shooting.game` がゲームループと描画、AI指示変更用のUIをまとめています。

今後の拡張として、敵のバリエーション追加、バトル結果に応じた性格変化、アセットの導入などを想定しています。
